{"version":3,"file":"testUtils.js","names":["Chalk","pDefer","invariant","afterEach","beforeEach","expect","vi","vitest","additionalContext","storeOsdkInstances","chalk","mockLog","args","console","log","yellow","createTestLogger","bindings","options","colors","debug","cyan","bgCyan","info","green","bgGreen","trace","gray","bgGray","error","red","bgRed","warn","bgYellow","fatal","redBright","bgRedBright","createLogMethod","name","fn","hasData","length","obj","more","slice","msgPrefix","methodName","magenta","Object","keys","child","theseBindings","theseOptions","level","undefined","isLevelEnabled","createClientMockHelper","client","logger","mockImplementation","localLogger","Error","e","where","deadObjectSet","whereArgs","fetchPage","fetchArgs","fetchOne","baseUrl","ontologyRid","objectFactory","objectFactory2","ontologyProvider","getActionDefinition","getInterfaceDefinition","getObjectDefinition","getQueryDefinition","tokenProvider","objectSetFactory","fetch","clientCacheKey","requestContext","fetchMetadata","mockApplyActionOnce","d","mockReturnValueOnce","applyAction","x","promise","type","addedLinks","addedObjects","deletedObjects","deletedLinks","deletedLinksCount","deletedObjectsCount","editedObjectTypes","modifiedObjects","mockFetchOneOnce","expectedId","a","process","env","NODE_ENV","r","$primaryKey","JSON","stringify","mockObjectFactory2Once","mocked","mockFetchPageOnce","objectSet","fetchPageArgs","clause","createDefer","subscriptions","s","unsubscribe","push","expectSingleListCallAndClear","subFn","resolvedList","payloadOptions","isFakeTimers","runOnlyPendingTimers","next","toHaveBeenCalledExactlyOnceWith","listPayloadContaining","mockClear","expectSingleObjectCallAndClear","object","status","objectContaining","any","String","waitForCall","times","waitFor","toHaveBeenCalledTimes","expectNoMoreCalls","observer","not","toHaveBeenCalled","createSubscriptionHelper","mockSingleSubCallback","ret","mockObserver","assign","expectLoadingAndLoaded","q","toHaveBeenNthCalledWith","loading","loaded","complete","mockListSubCallback","cacheEntryContaining","cacheKey","value","toBeOneOf","anything","lastUpdated","nonOptionalValue","src","key","objectPayloadContaining","isOptimistic","Boolean","fetchMore","Function","hasMore","applyCustomMatchers","extend","toBeGreaterThan","pass","message","updateList","store","orderBy","objects","optimisticId","opts","dedupeInterval","query","getListQuery","batch","objectCacheKeys","_updateList","getObject","pk","getValue","getCacheKey","updateObject","getObjectQuery","$apiName","writeToStore"],"sources":["testUtils.ts"],"sourcesContent":["/*\n * Copyright 2025 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  ActionDefinition,\n  ActionEditResponse,\n  FetchPageArgs,\n  InterfaceDefinition,\n  Logger,\n  ObjectOrInterfaceDefinition,\n  ObjectSet,\n  ObjectTypeDefinition,\n  Osdk,\n  OsdkBase,\n  PageResult,\n  WhereClause,\n} from \"@osdk/api\";\nimport { Chalk } from \"chalk\";\nimport type { DeferredPromise } from \"p-defer\";\nimport pDefer from \"p-defer\";\nimport type { Observer } from \"rxjs\";\nimport invariant from \"tiny-invariant\";\nimport type { Mock, MockedObject } from \"vitest\";\nimport { afterEach, beforeEach, expect, vi, vitest } from \"vitest\";\nimport type { ActionSignatureFromDef } from \"../../actions/applyAction.js\";\nimport type { Client } from \"../../Client.js\";\nimport { additionalContext } from \"../../Client.js\";\nimport type { ObjectHolder } from \"../../object/convertWireToOsdkObjects/ObjectHolder.js\";\nimport type { ListPayload } from \"../ListPayload.js\";\nimport type { ObjectPayload } from \"../ObjectPayload.js\";\nimport type { OrderBy, Status, Unsubscribable } from \"../ObservableClient.js\";\nimport type { Entry } from \"./Layer.js\";\nimport type { ListQueryOptions } from \"./ListQuery.js\";\nimport type { ObjectCacheKey } from \"./ObjectQuery.js\";\nimport { storeOsdkInstances } from \"./ObjectQuery.js\";\nimport type { OptimisticId } from \"./OptimisticId.js\";\nimport type { Store } from \"./Store.js\";\n\nconst chalk = new Chalk(); // new Chalk({ level: 3 });\n\nexport interface MockClientHelper {\n  client: Mock<Client> & Client;\n\n  mockApplyActionOnce: () => DeferredPromise<Partial<ActionEditResponse>>;\n\n  mockFetchOneOnce: <Q extends ObjectTypeDefinition>(\n    expectedId?: string | number | boolean,\n  ) => DeferredPromise<\n    Partial<\n      Osdk.Instance<Q>\n    >\n  >;\n\n  mockObjectFactory2Once: () => DeferredPromise<\n    Array<\n      | Osdk.Instance<ObjectOrInterfaceDefinition, never, any, {}>\n      | ObjectHolder\n    >\n  >;\n\n  mockFetchPageOnce: <\n    Q extends ObjectTypeDefinition,\n  >(\n    expected?: {\n      where: WhereClause<any>;\n      orderBy: Record<string, \"asc\" | \"desc\" | undefined>;\n    },\n  ) => DeferredPromise<\n    PageResult<Partial<Osdk.Instance<Q>>>\n  >;\n}\n\nfunction mockLog(...args: any[]) {\n  // eslint-disable-next-line no-console\n  console.log(\n    chalk.yellow(\"mockClient\"),\n    ...args,\n  );\n}\n// interface Logger.LogFn {\n//   (obj: unknown, msg?: string, ...args: any[]): void;\n//   (msg: string, ...args: any[]): void;\n// }\n\nexport function createTestLogger(\n  bindings: Record<string, any>,\n  options?: { level?: string; msgPrefix?: string },\n): Logger {\n  const colors = {\n    debug: [chalk.cyan, chalk.bgCyan],\n    info: [chalk.green, chalk.bgGreen],\n    trace: [chalk.gray, chalk.bgGray],\n    error: [chalk.red, chalk.bgRed],\n    warn: [chalk.yellow, chalk.bgYellow],\n    fatal: [chalk.redBright, chalk.bgRedBright],\n  } as const;\n  function createLogMethod(\n    name: \"debug\" | \"error\" | \"info\" | \"warn\" | \"fatal\" | \"trace\",\n  ) {\n    return vi.fn<Logger.LogFn>(\n      (\n        ...args: [\n          obj: unknown,\n          ...args1: any[],\n        ] | [\n          ...args2: any[],\n        ]\n      ) => {\n        const hasData = args.length > 0 && typeof args[0] !== \"string\";\n        const obj: Record<string, unknown> = hasData ? args[0] as any : {};\n        const more: any[] = hasData ? args.slice(1) : args.slice(0);\n\n        // eslint-disable-next-line no-console\n        console.log(\n          `${colors[name][1](name)}${\n            options?.msgPrefix ? \" \" + colors[name][0](options.msgPrefix) : \"\"\n          }${obj?.methodName ? ` .${chalk.magenta(obj.methodName)}()` : \"\"}`,\n          ...more,\n        );\n        if (bindings && Object.keys(bindings).length > 0) {\n          // eslint-disable-next-line no-console\n          console.log(bindings);\n        }\n      },\n    ) as Logger.LogFn;\n  }\n  return {\n    debug: createLogMethod(\"debug\"),\n    error: createLogMethod(\"error\"),\n    info: createLogMethod(\"info\"),\n    warn: createLogMethod(\"warn\"),\n    fatal: createLogMethod(\"fatal\"),\n    child: vi.fn<Logger[\"child\"]>((theseBindings, theseOptions) =>\n      createTestLogger({\n        ...bindings,\n        ...theseBindings,\n      }, {\n        level: (theseOptions ?? options)?.level,\n        msgPrefix: options?.msgPrefix || theseOptions?.msgPrefix\n          ? `${options?.msgPrefix ? `${options.msgPrefix} ` : \"\"}${\n            theseOptions?.msgPrefix || \"\"\n          }`\n          : undefined,\n      })\n    ),\n    trace: createLogMethod(\"trace\"),\n    isLevelEnabled: vi.fn((args) => true),\n  };\n}\n\nexport function createClientMockHelper(): MockClientHelper {\n  const client = vitest.fn<typeof client>() as unknown as Mock<Client> & Client;\n\n  const logger = createTestLogger({});\n\n  // this is just a fallback for when there is nothing set so we can track whats up\n  client.mockImplementation((...args: any[]) => {\n    const localLogger = logger.child({}, { msgPrefix: \"fallback mock client\" });\n    try {\n      throw new Error(\"IN THE FALLBACK MOCK CLIENT IMPLEMENTATION\");\n    } catch (e) {\n      localLogger.error(\"Just for the stack trace\", e);\n    }\n\n    let where;\n    const deadObjectSet = {\n      where: (...whereArgs: any[]) => {\n        localLogger.trace(\"where\", whereArgs);\n        where = whereArgs;\n        return deadObjectSet;\n      },\n      fetchPage: (...fetchArgs: any[]) => {\n        localLogger.trace(\"fetchPage\", where!, fetchArgs);\n        throw new Error(\"NO\");\n      },\n      fetchOne: (...fetchArgs: any[]) => {\n        localLogger.trace(\"fetchOne\", fetchArgs);\n\n        throw new Error(\"NO\");\n      },\n    };\n    return deadObjectSet;\n  });\n\n  client[additionalContext] = {\n    baseUrl: \"http://localhost:8080\",\n    ontologyRid: \"ri.something\",\n    objectFactory: vitest.fn(),\n    objectFactory2: vitest.fn(),\n    ontologyProvider: {\n      getActionDefinition: vitest.fn(),\n      getInterfaceDefinition: vitest.fn(),\n      getObjectDefinition: vitest.fn(),\n      getQueryDefinition: vitest.fn(),\n    },\n    tokenProvider: vitest.fn(),\n    objectSetFactory: vitest.fn(),\n    fetch: vitest.fn(),\n    clientCacheKey: {} as any,\n    requestContext: {},\n    logger,\n  };\n  client.fetchMetadata = vitest.fn();\n\n  function mockObjectFactory2Once() {\n    const d = pDefer<\n      (\n        | Osdk.Instance<ObjectOrInterfaceDefinition, never, any, {}>\n        | ObjectHolder\n      )[]\n    >();\n    vi.mocked(client[additionalContext].objectFactory2).mockReturnValueOnce(\n      d.promise as Promise<ObjectHolder[]>,\n    );\n    return d;\n  }\n\n  function mockFetchPageOnce<\n    X extends PageResult<\n      Osdk.Instance<ObjectTypeDefinition>\n    >,\n  >(): DeferredPromise<X> {\n    const d = pDefer<X>();\n\n    const objectSet: ObjectSet<ObjectTypeDefinition> = {\n      fetchPage: async (fetchPageArgs: FetchPageArgs<any>) => {\n        mockLog(\"fetchPage\", fetchPageArgs);\n        const r = await d.promise;\n        return { ...r, $primaryKey: fetchPageArgs };\n      },\n      where: (clause) => {\n        mockLog(\"where\", clause);\n        return objectSet;\n      },\n    } as Pick<\n      ObjectSet<ObjectTypeDefinition>,\n      \"fetchPage\" | \"where\"\n    > as ObjectSet<ObjectTypeDefinition>;\n\n    client.mockReturnValueOnce(objectSet);\n    return d;\n  }\n\n  function mockFetchOneOnce<\n    X extends Partial<OsdkBase<any>>,\n  >(expectedId?: string | number | boolean): DeferredPromise<X> {\n    const d = pDefer<X>();\n\n    client.mockReturnValueOnce(\n      {\n        fetchOne: async (a: FetchPageArgs<any>) => {\n          mockLog(\"fetchOne\", a);\n          invariant(\n            expectedId === undefined || a === expectedId,\n            \"expected id to match\",\n          );\n          const r = await d.promise;\n          invariant(\n            r.$primaryKey === a,\n            `expected id to match. Got ${\n              JSON.stringify(a)\n            } but object to return was ${r.$primaryKey}`,\n          );\n          return r as Osdk.Instance<any>;\n        },\n      } as Pick<ObjectSet<ObjectTypeDefinition>, \"fetchOne\">,\n    );\n    return d;\n  }\n\n  function mockApplyActionOnce(): DeferredPromise<\n    Partial<ActionEditResponse>\n  > {\n    const d = pDefer<Partial<ActionEditResponse>>();\n\n    client.mockReturnValueOnce(\n      {\n        applyAction: async (_args): Promise<ActionEditResponse> => {\n          const x = await d.promise;\n          return {\n            type: \"edits\",\n            addedLinks: x.addedLinks ?? [],\n            addedObjects: x.addedObjects ?? [],\n            deletedObjects: x.deletedObjects ?? [],\n            deletedLinks: x.deletedLinks ?? [],\n            deletedLinksCount: x.deletedLinksCount ?? 0,\n            deletedObjectsCount: x.deletedObjectsCount ?? 0,\n            editedObjectTypes: x.editedObjectTypes ?? [],\n            modifiedObjects: x.modifiedObjects ?? [],\n          };\n        },\n      } as Pick<\n        ActionSignatureFromDef<ActionDefinition>,\n        \"applyAction\"\n      >,\n    );\n    return d;\n  }\n\n  return {\n    client,\n    mockApplyActionOnce,\n    mockFetchOneOnce,\n    mockObjectFactory2Once,\n    mockFetchPageOnce,\n  };\n}\n\nexport function createDefer() {\n  let subscriptions: Unsubscribable[];\n\n  beforeEach(() => {\n    subscriptions = [];\n  });\n\n  afterEach(() => {\n    for (const s of subscriptions) {\n      s.unsubscribe();\n    }\n    subscriptions = [];\n  });\n\n  return function defer(x: Unsubscribable): Unsubscribable {\n    subscriptions.push(x);\n    return x;\n  };\n}\n\nexport function expectSingleListCallAndClear<T extends ObjectTypeDefinition>(\n  subFn: MockedObject<Observer<ListPayload | undefined>>,\n  resolvedList: ObjectHolder[] | Osdk.Instance<T>[],\n  payloadOptions: Omit<Partial<ListPayload>, \"resolvedList\"> = {},\n): void {\n  if (vitest.isFakeTimers()) {\n    vitest.runOnlyPendingTimers();\n  }\n  expect(subFn.next).toHaveBeenCalledExactlyOnceWith(\n    listPayloadContaining({\n      ...payloadOptions,\n      resolvedList: resolvedList as unknown as Array<\n        ObjectHolder\n      >,\n    }),\n  );\n  subFn.next.mockClear();\n}\n\nexport function expectSingleObjectCallAndClear<T extends ObjectTypeDefinition>(\n  subFn: MockedObject<Observer<ObjectPayload | undefined>>,\n  object: Osdk.Instance<T>,\n  status?: Status,\n): void {\n  expect(subFn.next).toHaveBeenCalledExactlyOnceWith(\n    expect.objectContaining({\n      object,\n      status: status ?? expect.any(String),\n    }),\n  );\n  subFn.next.mockClear();\n}\n\nexport async function waitForCall(\n  subFn: Mock<(e: any) => void> | MockedObject<Observer<any>>,\n  times: number = 1,\n): Promise<void> {\n  if (\"next\" in subFn && \"error\" in subFn && \"complete\" in subFn) {\n    subFn = subFn.next;\n  }\n  try {\n    await vi.waitFor(() => {\n      expect(subFn).toHaveBeenCalledTimes(times);\n    });\n  } catch (e) {\n    // we don't need the error, it will retrigger on the next line\n    // and that provides better behavior in the vitest vscode\n    // plugin. This places the error in the test itself instead of\n    // only in this file\n  }\n  expect(subFn).toHaveBeenCalledTimes(times);\n}\n\nexport function expectNoMoreCalls(\n  observer: MockedObject<\n    Observer<any>\n  >,\n): void {\n  expect(observer.next).not.toHaveBeenCalled();\n  expect(observer.error).not.toHaveBeenCalled();\n}\n\nfunction createSubscriptionHelper() {\n}\n\nexport function mockSingleSubCallback():\n  & MockedObject<\n    Observer<ObjectPayload | undefined>\n  >\n  & {\n    // expectLoaded: (value: unknown) => Promise<void>;\n    // expectLoading: (value: unknown) => Promise<void>;\n    expectLoadingAndLoaded: (q: {\n      loading?: unknown;\n      loaded: unknown;\n    }) => Promise<void>;\n  }\n{\n  const ret = mockObserver<ObjectPayload | undefined>();\n\n  //   async function expectLoaded(value: unknown) {\n  //     await waitForCall(ret);\n  //     // as long as we get the loaded call we are happy\n  //     expect(ret).toHaveBeenLastCalledWith(\n  //       cacheEntryContaining({\n  //         value,\n  //         status: \"loaded\",\n  //       }),\n  //     );\n  //     ret.mockClear();\n  //   }\n\n  //   async function expectLoading(value: unknown) {\n  //     await waitForCall(ret);\n  //     // as long as we get the loaded call we are happy\n  //     expect(ret).toHaveBeenCalledExactlyOnceWith(\n  //       cacheEntryContaining({\n  //         value,\n  //         status: \"loading\",\n  //       }),\n  //     );\n  //     ret.mockClear();\n  //   }\n\n  return Object.assign(ret, {\n    // expectLoaded,\n    // expectLoading,\n    expectLoadingAndLoaded: async (\n      q: { loading?: unknown; loaded: unknown },\n    ) => {\n      await waitForCall(ret.next, 2);\n\n      // as long as we get the loaded call we are happy\n      expect(ret.next).toHaveBeenNthCalledWith(\n        1,\n        q.loading,\n      );\n      expect(ret.next).toHaveBeenNthCalledWith(\n        2,\n        q.loaded,\n      );\n      expect(ret.next).toHaveBeenCalledTimes(2);\n      ret.next.mockClear();\n    },\n  });\n}\n\nexport function mockObserver<T>(): MockedObject<Observer<T>> {\n  return {\n    next: vitest.fn(),\n\n    // error: vitest.fn((x) => console.error(x)),\n    error: vitest.fn(),\n    complete: vitest.fn(),\n  };\n}\n\nexport function mockListSubCallback(): MockedObject<\n  Observer<ListPayload | undefined>\n> {\n  return mockObserver<ListPayload | undefined>();\n}\n\nexport function cacheEntryContaining(x: Partial<Entry<any>>): Entry<any> {\n  return {\n    cacheKey: x.cacheKey ?? expect.any(Object),\n    value: \"value\" in x\n      ? x.value\n      : expect.toBeOneOf([expect.anything(), undefined]),\n    status: x.status ?? expect.anything(),\n    lastUpdated: x.lastUpdated ?? expect.anything(),\n  };\n}\n\nfunction nonOptionalValue<T extends object, K extends keyof T>(\n  src: T,\n  key: K,\n): NonNullable<T[K]> {\n  return key in src\n    ? src[key]\n    : expect.toBeOneOf([expect.anything(), undefined]);\n}\n\nexport function objectPayloadContaining(\n  x: Partial<ObjectPayload>,\n): ObjectPayload {\n  return {\n    object: nonOptionalValue(x, \"object\"),\n    isOptimistic: expect.any(Boolean),\n    status: x.status ?? expect.anything(),\n    lastUpdated: x.lastUpdated ?? expect.anything(),\n  };\n}\n\nexport function listPayloadContaining(\n  x: Partial<ListPayload>,\n): ListPayload {\n  return {\n    fetchMore: x.fetchMore ?? expect.any(Function),\n    hasMore: x.hasMore ?? expect.any(Boolean),\n    resolvedList: x.resolvedList ?? expect.anything(),\n    isOptimistic: expect.any(Boolean),\n    status: x.status ?? expect.anything(),\n    lastUpdated: x.lastUpdated ?? expect.anything(),\n  };\n}\n\nexport function applyCustomMatchers(): void {\n  expect.extend({\n    toBeGreaterThan: (r: number, e: number) => {\n      return {\n        pass: r > e,\n        message: () => `expected ${r} to be greater than ${e} (lastUpdated)`,\n      };\n    },\n  });\n}\n\ninterface CustomMatchers<R = any> {\n  toBeGreaterThan: (n: number) => R;\n}\n\ninterface CustomAsymmetricMatchers<R = any> {\n  toBeGreaterThan: (n: number) => R;\n}\n\ndeclare module \"vitest\" {\n  interface Assertion<T = any> extends CustomMatchers<T> {}\n  interface AsymmetricMatchersContaining extends CustomAsymmetricMatchers {}\n}\n\n/**\n * Updates the internal state of a list and will create a new internal query if needed.\n *\n * Helper method only for tests right now. May be removed later.\n *\n * @param apiName\n * @param where\n * @param orderBy\n * @param objects\n * @param param4\n * @param opts\n */\nexport function updateList<\n  T extends ObjectTypeDefinition | InterfaceDefinition,\n>(\n  store: Store,\n  {\n    type,\n    where,\n    orderBy,\n  }: {\n    type: Pick<T, \"apiName\" | \"type\">;\n    where: WhereClause<T>;\n    orderBy: OrderBy<T>;\n  },\n  objects: ObjectHolder[] | Osdk.Instance<T>[],\n  { optimisticId }: { optimisticId?: OptimisticId } = {},\n  opts: ListQueryOptions = { dedupeInterval: 0 },\n): void {\n  if (process.env.NODE_ENV !== \"production\") {\n    store.logger?.child({ methodName: \"updateList\" }).info(\n      \"\",\n      { optimisticId },\n    );\n  }\n\n  const query = store.getListQuery(\n    type,\n    where ?? {},\n    orderBy ?? {},\n    opts,\n  );\n\n  store.batch({ optimisticId }, (batch) => {\n    const objectCacheKeys = storeOsdkInstances(store, objects, batch);\n    query._updateList(objectCacheKeys, false, \"loaded\", batch);\n  });\n}\n\nexport function getObject(\n  store: Store,\n  type: string,\n  pk: number,\n): ObjectHolder | undefined {\n  return store.getValue(store.getCacheKey<ObjectCacheKey>(\"object\", type, pk))\n    ?.value;\n}\n\nexport function updateObject<T extends ObjectOrInterfaceDefinition>(\n  store: Store,\n  value: Osdk.Instance<T>,\n  { optimisticId }: { optimisticId?: OptimisticId } = {},\n): Osdk.Instance<T> {\n  const query = store.getObjectQuery(value.$apiName, value.$primaryKey);\n\n  store.batch({ optimisticId }, (batch) => {\n    return query.writeToStore(\n      value as unknown as ObjectHolder<typeof value>,\n      \"loaded\",\n      batch,\n    );\n  });\n\n  return value;\n}\n"],"mappings":"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","ignoreList":[]}