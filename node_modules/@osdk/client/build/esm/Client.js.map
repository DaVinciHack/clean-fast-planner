{"version":3,"file":"Client.js","names":["additionalContext","Symbol","MaxOsdkVersion","ErrorMessage"],"sources":["Client.ts"],"sourcesContent":["/*\n * Copyright 2023 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  ActionDefinition,\n  ActionMetadata,\n  CompileTimeMetadata,\n  InterfaceDefinition,\n  InterfaceMetadata,\n  ObjectMetadata,\n  ObjectSet,\n  ObjectTypeDefinition,\n  QueryDefinition,\n  QueryMetadata,\n  VersionBound,\n} from \"@osdk/api\";\nimport type {\n  Experiment,\n  ExperimentFns,\n  MinimalObjectSet,\n} from \"@osdk/api/unstable\";\nimport type { SharedClient } from \"@osdk/shared.client2\";\nimport type { ActionSignatureFromDef } from \"./actions/applyAction.js\";\nimport type { MinimalClient } from \"./MinimalClientContext.js\";\nimport type { QuerySignatureFromDef } from \"./queries/types.js\";\nimport type { SatisfiesSemver } from \"./SatisfiesSemver.js\";\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\ntype OldSharedClient = import(\"@osdk/shared.client\").SharedClient;\n\nexport type CheckVersionBound<Q> = Q extends VersionBound<infer V> ? (\n    SatisfiesSemver<V, MaxOsdkVersion> extends true ? Q\n      : Q & {\n        [ErrorMessage]:\n          `Your SDK requires a semver compatible version with ${V}. You have ${MaxOsdkVersion}. Update your package.json`;\n      }\n  )\n  : Q;\n\nexport interface Client extends SharedClient, OldSharedClient {\n  <Q extends ObjectTypeDefinition>(\n    o: Q,\n  ): unknown extends CompileTimeMetadata<Q>[\"objectSet\"] ? ObjectSet<Q>\n    : CompileTimeMetadata<Q>[\"objectSet\"];\n\n  <Q extends (InterfaceDefinition)>(\n    o: Q,\n  ): unknown extends CompileTimeMetadata<Q>[\"objectSet\"] ? MinimalObjectSet<Q>\n    : CompileTimeMetadata<Q>[\"objectSet\"];\n\n  <Q extends ActionDefinition<any>>(\n    o: Q,\n  ): ActionSignatureFromDef<Q>;\n\n  <Q extends QueryDefinition<any>>(\n    o: Q,\n  ): QuerySignatureFromDef<Q>;\n\n  <Q extends Experiment<\"2.0.8\"> | Experiment<\"2.1.0\"> | Experiment<\"2.2.0\">>(\n    experiment: Q,\n  ): ExperimentFns<Q>;\n\n  fetchMetadata<\n    Q extends (\n      | ObjectTypeDefinition\n      | InterfaceDefinition\n      | ActionDefinition<any>\n      | QueryDefinition<any>\n    ),\n  >(o: Q): Promise<\n    Q extends ObjectTypeDefinition ? ObjectMetadata\n      : Q extends InterfaceDefinition ? InterfaceMetadata\n      : Q extends ActionDefinition<any> ? ActionMetadata\n      : Q extends QueryDefinition<any> ? QueryMetadata\n      : never\n  >;\n\n  /** @internal */\n  [additionalContext]: MinimalClient;\n}\n\n// DO NOT EXPORT FROM PACKAGE\n/** @internal */\nexport const additionalContext: unique symbol = Symbol(\"additionalContext\");\n\n// BEGIN: THIS IS GENERATED CODE. DO NOT EDIT.\nconst MaxOsdkVersion = \"2.3.0\";\n// END: THIS IS GENERATED CODE. DO NOT EDIT.\nexport type MaxOsdkVersion = typeof MaxOsdkVersion;\nconst ErrorMessage: unique symbol = Symbol(\"ErrorMessage\");\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA0BA;;AAsDA;AACA;AACA,OAAO,MAAMA,iBAAgC,GAAGC,MAAM,CAAC,mBAAmB,CAAC;;AAE3E;AACA,MAAMC,cAAc,GAAG,OAAO;AAC9B;;AAEA,MAAMC,YAA2B,GAAGF,MAAM,CAAC,cAAc,CAAC","ignoreList":[]}