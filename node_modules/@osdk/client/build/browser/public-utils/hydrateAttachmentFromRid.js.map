{"version":3,"file":"hydrateAttachmentFromRid.js","names":["OntologiesV2","additionalContext","hydrateAttachmentFromRid","client","rid","hydrateAttachmentFromRidInternal","fetchContents","Attachments","read","fetchMetadata","r","get","sizeBytes","Number"],"sources":["hydrateAttachmentFromRid.ts"],"sourcesContent":["/*\n * Copyright 2024 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Attachment } from \"@osdk/api\";\nimport * as OntologiesV2 from \"@osdk/foundry.ontologies\";\nimport { additionalContext, type Client } from \"../Client.js\";\nimport type { MinimalClient } from \"../MinimalClientContext.js\";\n\n/**\n * Helper function to create an attachment type from a rid\n * @param client -  An OSDK client.\n * @param rid - The rid of attachment in Foundry.\n * @returns An OSDK attachment object\n */\nexport function hydrateAttachmentFromRid(\n  client: Client,\n  rid: string,\n): Attachment {\n  return hydrateAttachmentFromRidInternal(client[additionalContext], rid);\n}\n\n/** @internal */\nexport function hydrateAttachmentFromRidInternal(\n  client: MinimalClient,\n  rid: string,\n): Attachment {\n  return {\n    rid,\n    async fetchContents() {\n      return OntologiesV2.Attachments.read(client, rid);\n    },\n    async fetchMetadata() {\n      const r = await OntologiesV2.Attachments.get(client, rid);\n      return {\n        ...r,\n        sizeBytes: Number(r.sizeBytes),\n      };\n    },\n  };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,KAAKA,YAAY,MAAM,0BAA0B;AACxD,SAASC,iBAAiB,QAAqB,cAAc;AAG7D;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,wBAAwBA,CACtCC,MAAc,EACdC,GAAW,EACC;EACZ,OAAOC,gCAAgC,CAACF,MAAM,CAACF,iBAAiB,CAAC,EAAEG,GAAG,CAAC;AACzE;;AAEA;AACA,OAAO,SAASC,gCAAgCA,CAC9CF,MAAqB,EACrBC,GAAW,EACC;EACZ,OAAO;IACLA,GAAG;IACH,MAAME,aAAaA,CAAA,EAAG;MACpB,OAAON,YAAY,CAACO,WAAW,CAACC,IAAI,CAACL,MAAM,EAAEC,GAAG,CAAC;IACnD,CAAC;IACD,MAAMK,aAAaA,CAAA,EAAG;MACpB,MAAMC,CAAC,GAAG,MAAMV,YAAY,CAACO,WAAW,CAACI,GAAG,CAACR,MAAM,EAAEC,GAAG,CAAC;MACzD,OAAO;QACL,GAAGM,CAAC;QACJE,SAAS,EAAEC,MAAM,CAACH,CAAC,CAACE,SAAS;MAC/B,CAAC;IACH;EACF,CAAC;AACH","ignoreList":[]}